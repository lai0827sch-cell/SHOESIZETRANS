<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <link rel="icon" href="favicon.png" type="image/x-icon">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Shoes Size Transform V.1</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="theme-color" content="#fbfbfd">
    <style>
        :root {
            --glass: rgba(255, 255, 255, 0.7);
            --liquid-purple: #9370db;
            --ios-blue: #007AFF;
            --text-main: #1c1c1e;
            --bg-color: #fbfbfd;
            --item-active: rgba(0,0,0,0.12);
            --glass-stroke: rgba(255,255,255,0.4);
            --tab-active-bg: rgba(0, 122, 255, 0.35);
            --tab-active-duration: 0.4s;
        }
        [data-theme="dark"] {
            --glass: rgba(28, 28, 30, 0.7);
            --text-main: #ffffff;
            --bg-color: #000000;
            --item-active: rgba(255,255,255,0.18);
            --glass-stroke: rgba(255,255,255,0.1);
            --tab-active-bg: rgba(0, 122, 255, 0.5);
        }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body {
            font-family: -apple-system, "SF Pro Display", "SF Pro Text", system-ui, sans-serif;
            margin: 0;
            background: var(--bg-color);
            height: 100vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            color: var(--text-main);
            transition: background 0.5s ease;
        }
        .liquid-bg {
            position: fixed;
            top: -50%; left: -50%; width: 200%; height: 200%;
            background: radial-gradient(circle at 30% 30%, #e0c3fc 0%, var(--bg-color) 50%),
                        radial-gradient(circle at 70% 70%, #8ec5fc 0%, var(--bg-color) 50%);
            z-index: -1;
            filter: blur(80px);
            animation: flow 15s infinite alternate ease-in-out;
        }
        [data-theme="dark"] .liquid-bg {
            background: radial-gradient(circle at 30% 30%, #2c0b4a 0%, #000 50%),
                        radial-gradient(circle at 70% 70%, #0a2342 0%, #000 50%);
        }
        @keyframes flow { from { transform: rotate(0deg); } to { transform: rotate(15deg) scale(1.1); } }

        .tab-bar {
            position: sticky;
            top: env(safe-area-inset-top);
            z-index: 200;
            background: var(--glass);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--glass-stroke);
            display: flex;
            align-items: center;
            justify-content: space-between;   /* æ”¹æˆ space-betweenï¼Œè®“å·¦å³å…©ç«¯å›ºå®š */
            padding: 0 16px;
            height: 48px;
            flex-shrink: 0;
            gap: 12px;                        /* æ–°å¢ä¸€é»é–“è·ï¼Œé¿å…æ“ å£“ */
        }
        .tab-list {
            flex: 1;
            display: flex;
            overflow-x: auto;
            gap: 16px;
            padding-right: 160px;           /* å³é‚Šç•™ç©ºé–“çµ¦å›ºå®šå€åŸŸï¼Œé¿å…è“‹ä½ */
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
            scroll-snap-type: x proximity;  /* æ»‘å‹•æœ‰è¼•å¾®å¸é™„æ„Ÿ */
        }

        .tab-list::-webkit-scrollbar {
            display: none;
        }
        .tab-item {
    padding: 8px 14px;
    font-size: 17px;
    font-weight: 600;
    color: var(--text-main);
    white-space: nowrap;
    border-radius: 12px;
    background: rgba(150,150,150,0.08);
    border: 1px solid rgba(150,150,150,0.15);
    transition: all var(--tab-active-duration) ease, transform 0.15s ease; /* æ–°å¢ transform å‹•ç•« */
    cursor: pointer;
}

.tab-item:hover {
    background: rgba(150,150,150,0.15);
}

.tab-item.active {
    background: var(--tab-active-bg);
    color: var(--ios-blue);
    border-color: var(--ios-blue);
    box-shadow: 0 2px 8px rgba(0,122,255,0.2);
}

/* åªè®“é‹ç¢¼è½‰æ›èˆ‡æ„è¦‹å›é¥‹æœ‰ç¸®æ”¾æ•ˆæœ */
.tab-item[data-tab="shoe"]:active,
.tab-item[data-tab="shoe"].clicked,
.tab-item[data-tab="feedback"]:active,
.tab-item[data-tab="feedback"].clicked,
.tab-item[select-type="ç”·æ¬¾"]:active,
.tab-item[select-type="ç”·æ¬¾"].clicked
 {
    transform: scale(0.80);
    transition: transform 0.1s ease;
}

/* æ”¾é–‹å¾Œå›å½ˆï¼ˆè‡ªç„¶ä¸€é»ï¼‰ */
.tab-item[data-tab="shoe"],
.tab-item[data-tab="feedback"] {
    transition: transform 0.2s ease-out;
}

        .tab-item:hover {
        background: rgba(150,150,150,0.15);
        }

        .tab-item.active {
        background: var(--tab-active-bg);
        color: var(--ios-blue);
        border-color: var(--ios-blue);
        box-shadow: 0 2px 8px rgba(0,122,255,0.2);
    }

    /* å³é‚Šå›ºå®šå€åŸŸï¼ˆæ„è¦‹å›é¥‹ + é–‹é—œï¼‰ */
        .fixed-right {
            display: flex;
            align-items: center;
            gap: 8px;                      /* æ„è¦‹å›é¥‹èˆ‡é–‹é—œä¹‹é–“è·é›¢ï¼Œå¯èª¿ 8px~16px */
            flex-shrink: 0;
            padding-left: 12px;
            background: inherit;            /* ç¹¼æ‰¿ç»ç’ƒèƒŒæ™¯ */
        }

        /* å›ºå®šæŒ‰éˆ•æ¨£å¼ï¼ˆçœ‹èµ·ä¾†åƒ activeï¼Œä½†æ°¸é å›ºå®šï¼‰ */
.tab-item.fixed {
        background: transparent !important;   /* ç§»é™¤è—è‰²åº•è‰² */
            border: none !important;              /* ä¸è¦é‚Šæ¡† */
            box-shadow: none !important;
            min-width: 48px;                      /* æœ€å°å¯¬åº¦ 48pxï¼Œç¢ºä¿é»æ“Šç¯„åœå¤ å¤§ */
            height: 44px;                         /* èˆ‡ tab-bar ç­‰é«˜ */
            display: flex;
            align-items: center;
           justify-content: center;
           font-size: 24px;                      /* ğŸ’¬ ç¬¦è™Ÿå¤§å°é©ä¸­ï¼Œä¸æœƒå¤ªå° */
            padding: 0 12px;                      /* å·¦å³å„ç•™ 12px ç©ºé–“ï¼Œé»æ“Šæ›´èˆ’æœ */
            color: var(--text-main);              /* è·Ÿå…¶ä»– tab é¡è‰²ä¸€è‡´ */
            transition: all var(--tab-active-duration) ease, transform 0.15s ease;
        }

        /* é»æ“Šæ™‚çš„å£“ç¸®æ„Ÿï¼ˆè®“å®ƒæ„Ÿè¦ºè¢«æŒ‰ä¸‹å»ï¼‰ */
        .tab-item.fixed:active,
        .tab-item.fixed.clicked {
            transform: scale(0.70);               /* ç¸®å°åˆ° 92%ï¼Œåƒè¢«å£“äº†ä¸€ä¸‹ */
        }

        .clicked {
            background: var(--tab-active-bg) !important;
            transition: background var(--tab-active-duration) ease;
        }
        /* æ™ƒå‹•å‹•ç•« */
        @keyframes shake {
            0% { transform: translateX(0); }
            20% { transform: translateX(-6px); }
            40% { transform: translateX(6px); }
            60% { transform: translateX(-4px); }
            80% { transform: translateX(4px); }
            100% { transform: translateX(0); }
        }

        .shake {
            animation: shake 0.4s ease-in-out forwards;
        }

        #nav-container { flex: 1; position: relative; display: flex; flex-direction: column; overflow: hidden; }
        header { padding: 20px 24px 8px; transition: all 0.4s; }
        header h1 { font-size: 34px; font-weight: 700; margin: 0; letter-spacing: -1px; }
        header p { color: #8e8e93; font-size: 17px; margin: 5px 0 0; }
        .view-stack { flex: 1; position: relative; overflow: hidden; padding: 0 20px; }
        .step-view {
            position: absolute; inset: 0; overflow-y: auto;
            display: none; flex-direction: column;
            transition: transform 0.5s cubic-bezier(0.32, 0.72, 0, 1), opacity 0.4s;
        }
        .step-view.active { display: flex; animation: slideIn 0.5s cubic-bezier(0.32, 0.72, 0, 1); }
        .step-view.exit { transform: translateX(-20%); opacity: 0; }
        @keyframes slideIn { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }

        .glass-card {
            background: var(--glass);
            backdrop-filter: blur(25px) saturate(180%);
            border-radius: 20px;
            border: 1px solid var(--glass-stroke);
            margin-bottom: 25px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.05);
        }
        .ios-item, .back-btn, .reset-btn {
            padding: 18px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 0.5px solid rgba(150,150,150,0.1);
            cursor: pointer;
            transition: transform 0.15s ease, opacity 0.15s ease;
        }
        .ios-item:last-child { border-bottom: none; }
        .ios-item span { font-size: 19px; font-weight: 500; }
        .back-btn { color: var(--ios-blue); font-size: 17px; margin-bottom: 10px; }
        .reset-btn { margin-top: 30px; background: var(--text-main); color: var(--bg-color); padding: 16px; border-radius: 15px; text-align: center; font-weight: 600; }

        .res-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px; }
        .res-tile { background: rgba(150,150,150,0.1); padding: 15px; border-radius: 15px; }
        .res-val { font-size: 22px; font-weight: 700; color: var(--liquid-purple); }

        .feedback-form {
            background: var(--glass);
            backdrop-filter: blur(25px) saturate(180%);
            border-radius: 20px;
            border: 1px solid var(--glass-stroke);
            padding: 24px;
            margin-top: 16px;
        }
        .feedback-form label { display: block; font-size: 17px; font-weight: 600; margin: 20px 0 8px; }
        .feedback-form input, .feedback-form select, .feedback-form textarea {
            width: 100%; padding: 12px 16px; border-radius: 12px; border: 1px solid var(--glass-stroke);
            background: rgba(255,255,255,0.3); font-size: 17px; color: var(--text-main); font-family: inherit;
        }
        [data-theme="dark"] .feedback-form input,
        [data-theme="dark"] .feedback-form select,
        [data-theme="dark"] .feedback-form textarea {
            background: rgba(40,40,40,0.5); border-color: rgba(255,255,255,0.2);
        }
        .feedback-form textarea { min-height: 160px; max-height: 45vh; resize: vertical; }
        .feedback-form button {
            margin-top: 24px; width: 100%; padding: 16px; background: var(--ios-blue); color: white;
            border: none; border-radius: 15px; font-size: 18px; font-weight: 600; cursor: pointer;
        }
        .feedback-form button:active { background: #0062cc; }

        .watermark {
            position: fixed; right: 8px; bottom: 8px; font-size: 8px; color: rgba(150,150,150,0.5);
            text-align: right; pointer-events: none; padding: 5px; max-width: 500px; line-height: 1.2; z-index: 10;
        }

/* å…¶ä»–é–‹é—œæ¨£å¼ä¿æŒåŸæ¨£ */
.theme-toggle-container.off {
    background: #6c757d;
}

.theme-toggle-knob {
    position: absolute;
    top: 3px;
    left: 3px;
    width: 24px;
    height: 24px;
    background: white;
    border-radius: 50%;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.theme-toggle-container.on .theme-toggle-knob {
    transform: translateX(24px);
}

/* æ·±è‰²æ¨¡å¼èª¿æ•´ */
[data-theme="dark"] .theme-toggle-container.off {
    background: #495057;
}

[data-theme="dark"] .theme-toggle-container.on {
    background: #2ecc71;
}

/* æ™ƒå‹•ï¼ˆå¯é¸ï¼‰ */
.theme-toggle-container:active,
.theme-toggle-container.shake {
    animation: shake 0.4s ease-in-out;
}

/* æ·±è‰²æ¨¡å¼æç¤ºæ³¡æ³¡ */
.theme-hint {
    position: fixed;
    inset: 0;
    z-index: 500;
    pointer-events: none;
    display: flex;
    justify-content: center;
    align-items: flex-start;
    padding-top: 70px;  /* ä½ç½®ç´„åœ¨é–‹é—œä¸‹æ–¹ï¼Œå¯èª¿ 60~90px */
    opacity: 0;
    transition: opacity 0.8s ease-in-out;
}

.theme-hint.show {
    opacity: 1;
}

.hint-bubble {
    background: rgba(0, 0, 0, 0.75);
    color: white;
    padding: 12px 24px;
    border-radius: 20px;
    font-size: 15px;
    font-weight: 500;
    max-width: 80%;
    text-align: center;
    box-shadow: 0 6px 20px rgba(0,0,0,0.4);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
}

[data-theme="dark"] .hint-bubble {
    background: rgba(255, 255, 255, 0.9);
    color: #1c1c1e;
}

.toast {
    position: fixed;
    top: 60%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(0,0,0,0.85);
    color: white;
    padding: 16px 32px;
    border-radius: 30px;
    font-size: 16px;
    z-index: 1000;
    opacity: 0;
    transition: opacity 0.6s ease;
    pointer-events: none;
    max-width: 90%;
    text-align: center;
    box-shadow: 0 10px 30px rgba(0,0,0,0.6);
}

.toast.show {
    opacity: 1;
}

[data-theme="dark"] .toast {
    background: rgba(255,255,255,0.9);
    color: #1c1c1e;
}

/* æ·±è‰²æ¨¡å¼é–‹é—œ - ç¶ è‰²æ»‘å‹•å¼ï¼ˆç¢ºä¿é¡¯ç¤ºï¼‰ */
.theme-toggle-container {
    position: relative;
    width: 54px;
    height: 30px;
    background: #28a745;                /* ç¶ è‰²è»Œé“ - é–‹å•Ÿï¼ˆæ·±è‰²ï¼‰ */
    border-radius: 999px;
    cursor: pointer;
    transition: background 0.3s ease;
    flex-shrink: 0;
    margin-left: 12px;                  /* èˆ‡æ„è¦‹å›é¥‹éš”ä¸€é»è·é›¢ */
    box-shadow: 0 2px 8px rgba(0,0,0,0.15); /* åŠ é™°å½±ï¼Œé¿å…çœ‹èµ·ä¾†åƒå°ç™½åœ“ */
}

.theme-toggle-container.off {
    background: #6c757d;                /* ç°è‰² - é—œé–‰ï¼ˆæ·ºè‰²ï¼‰ */
}

.theme-toggle-knob {
    position: absolute;
    top: 3px;
    left: 3px;
    width: 24px;
    height: 24px;
    background: white;
    border-radius: 50%;
    box-shadow: 0 2px 6px rgba(0,0,0,0.25);
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.theme-toggle-container.on .theme-toggle-knob {
    transform: translateX(24px);        /* æ»‘åˆ°å³é‚Š */
}

/* æ·±è‰²æ¨¡å¼èª¿æ•´ */
[data-theme="dark"] .theme-toggle-container.off {
    background: #495057;
}

[data-theme="dark"] .theme-toggle-container.on {
    background: #2ecc71;                /* äº®ç¶  */
}

/* é»æ“Šæ™ƒå‹•ï¼ˆå¦‚æœæœ‰ï¼‰ */
.theme-toggle-container:active,
.theme-toggle-container.shake {
    animation: shake 0.4s ease-in-out;
}

/* === æœ€çµ‚ä¿®å¾©æ·±è‰²é–‹é—œï¼šå¼·åˆ¶é¡¯ç¤º + å®šä½ === */
#themeToggle {
    position: relative !important;
    width: 54px !important;
    height: 30px !important;
    background: #28a745 !important;  /* ç¶ è‰²è»Œé“ - é–‹å•Ÿï¼ˆæ·±è‰²ï¼‰ */
    border-radius: 999px !important;
    cursor: pointer !important;
    transition: background 0.3s ease !important;
    flex-shrink: 0 !important;
    box-shadow: 0 2px 8px rgba(0,0,0,0.2) !important;
    margin-left: 12px !important;   /* èˆ‡æ„è¦‹å›é¥‹çš„è·é›¢ */
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
}

#themeToggle.off {
    background: #6c757d !important;  /* ç°è‰² - æ·ºè‰² */
}

#themeToggle .theme-toggle-knob {
    position: absolute !important;
    top: 3px !important;
    left: 3px !important;
    width: 24px !important;
    height: 24px !important;
    background: white !important;
    border-radius: 50% !important;
    box-shadow: 0 2px 6px rgba(0,0,0,0.25) !important;
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

#themeToggle.on .theme-toggle-knob {
    transform: translateX(24px) !important;
}

/* æ·±è‰²æ¨¡å¼èª¿æ•´ */
[data-theme="dark"] #themeToggle.off {
    background: #495057 !important;
}

[data-theme="dark"] #themeToggle.on {
    background: #2ecc71 !important;
}

/* é»æ“Šæ™ƒå‹• */
#themeToggle:active,
#themeToggle.shake {
    animation: shake 0.4s ease-in-out !important;
}

    </style>
</head>
<body data-theme="light">
<div class="liquid-bg"></div>
<div class="theme-hint" id="themeHint">
    <div class="hint-bubble">
        é»æ“Šå³ä¸Šè§’é–‹é—œå¯ä»¥åˆ‡æ›æ·±è‰²æ¨¡å¼å–”ï½
    </div>
</div>

<div class="tab-bar">
    <!-- å¯æ»‘å‹•çš„ tab å€åŸŸ -->
    <div class="tab-list">
        <div class="tab-item active" data-tab="shoe" onclick="clickFeedback(this, () => switchTab('shoe'))">é‹ç¢¼è½‰æ›</div>
        <div class="tab-item" data-tab="clothing" onclick="clickFeedback(this, () => switchTab('clothing'))">æœé£¾å°ºç¢¼è½‰æ›</div>
        <div class="tab-item" data-tab="product" onclick="clickFeedback(this, () => switchTab('product'))">ç”¢å“çŸ¥è­˜æŸ¥è©¢</div>
        <div class="tab-item" data-tab="todo" onclick="clickFeedback(this, () => switchTab('todo'))">å¾…é–‹ç™¼</div>
        <!-- æœªä¾†æ–°å¢ tab éƒ½åŠ åœ¨é€™è£¡ï¼Œå°±æœƒè·Ÿè‘—æ»‘å‹• -->
    </div>

    <!-- å›ºå®šåœ¨å³é‚Šçš„éƒ¨åˆ†ï¼ˆæ„è¦‹å›é¥‹ + é–‹é—œï¼‰ -->
    <div class="fixed-right">
    <div class="tab-item fixed feedback-icon" data-tab="feedback" onclick="clickFeedback(this, () => switchTab('feedback'))">ğŸ’¬</div>
    <div class="theme-toggle-container" id="themeToggle" onclick="toggleTheme()">
        <div class="theme-toggle-knob"></div>
    </div>
</div>
</div>
</div>

<div id="nav-container">
    <header>
        <h1 id="title-text">é™½æ˜¥è‡ªè£½è½‰æ›å™¨By,Lai</h1>
        <p id="sub-text">å®¢äººæä¾›çš„é‹æ¬¾é¡å‹</p>
    </header>
    <div class="view-stack">
        <!-- é‹ç¢¼è½‰æ›é é¢ -->
        <div id="view1" class="step-view active">
            <div class="glass-card">
                <div class="ios-item" onclick="clickFeedback(this, () => selectType('ç”·æ¬¾'))"><span>ç”·æ¬¾</span></div>
                <div class="ios-item" onclick="clickFeedback(this, () => selectType('å¥³æ¬¾'))"><span>å¥³æ¬¾</span></div>
                <div class="ios-item" onclick="clickFeedback(this, () => selectType('å…’ç«¥æ¬¾'))"><span>å…’ç«¥æ¬¾</span></div>
            </div>
        </div>
        <div id="view2" class="step-view">
            <div class="back-btn" onclick="goBack(1)"> æƒ³å›åˆ°éå»~(å…¶å¯¦å°±æ˜¯ä¸Šä¸€é )</div>
            <div class="glass-card" id="unit-list"></div>
        </div>
        <div id="view3" class="step-view">
            <div class="back-btn" onclick="goBack(2)"> æƒ³å›åˆ°éå»~(å…¶å¯¦å°±æ˜¯ä¸Šä¸€é )</div>
            <div class="glass-card" id="value-list"></div>
        </div>
        <div id="view4" class="step-view">
            <div class="glass-card" style="padding:25px; text-align:center;">
                <div id="result-content"></div>
                <div class="reset-btn" onclick="goBack(1)">ä½ é‚„å¯ä»¥å†ä¾†ä¸€æ¬¡</div>
            </div>
        </div>

        <!-- æ„è¦‹å›é¥‹é é¢ -->
        <div id="view5" class="step-view">
            <div class="feedback-form">
                <h2 style="margin-top:0; color:var(--liquid-purple)">æ„è¦‹å›é¥‹</h2>
                
                <label for="empId">å“¡ç·¨ (ä¾‹: AB1234)</label>
                <input type="text" id="empId" maxlength="6" placeholder="è«‹è¼¸å…¥ 2 è‹±æ–‡å­—æ¯ + 4 æ•¸å­—" autocomplete="off">

                <label for="feedbackType">æ„è¦‹é …ç›®</label>
                <select id="feedbackType">
                    <option value="">è«‹é¸æ“‡</option>
                    <option value="æ·»åŠ åŠŸèƒ½">æ·»åŠ åŠŸèƒ½</option>
                    <option value="æ·»åŠ å°ºå¯¸/æ¬¾å¼/å–®ä½">æ·»åŠ å°ºå¯¸\æ¬¾å¼\å–®ä½</option>
                    <option value="ä½¿ç”¨æ™‚ç™¼ç”ŸéŒ¯èª¤å›å ±">ä½¿ç”¨æ™‚ç™¼ç”ŸéŒ¯èª¤å›å ±</option>
                    <option value="å…¶ä»–">å…¶ä»–</option>
                </select>

                <label for="feedbackContent">æ„è¦‹å›å ±è¼¸å…¥</label>
                <textarea id="feedbackContent" placeholder="è«‹å…ˆé¸æ“‡æ„è¦‹é …ç›®"></textarea>

                <button onclick="submitFeedback()">é€å‡ºå›é¥‹</button>
            </div>
        </div>
    </div>
</div>

<div class="watermark">
    Nike å°ºå¯¸è½‰æ›å·¥å…·.Made by Lai_0827.(NiXkMoXXXtum_XN2)<br>
    å°è³´åªæ˜¯å€‹è¡¨è—ç³»å­¸ç”Ÿæ²’æœ‰å­¸éç¨‹å¼èªè¨€<br>
    è©²ç¶²ç«™æ‰€æœ‰ä»£ç¢¼çš†ç‚ºAIç”Ÿæˆå¾Œæ ¡æ­£<br>
    éœ€æ·»åŠ åŠŸèƒ½æˆ–æ·»åŠ åŠŸèƒ½å…§é¸é …è«‹é»é¸ç›®éŒ„é æ„è¦‹å›é¥‹<br>
    å¦‚æœ‰è²¬ä»»å•é¡Œæˆ–æ³•å¾‹è²¬ä»» è«‹æ‰¾åŠ‰æ¼¢é “ ä»–æ˜¯æˆ‘çš„ç›´å±¬ä¸Šå¸
</div>




<script>
const sizeData = {
    "ç”·æ¬¾": [{US:4, UK:3.5, EUR:36, CM:23}, {US:4.5, UK:4, EUR:36.5, CM:23.5}, {US:5, UK:4.5, EUR:37.5, CM:23.5}, {US:5.5, UK:5, EUR:38, CM:24}, {US:6, UK:5, EUR:38.5, CM:24}, {US:6.5, UK:5.5, EUR:39, CM:24.5}, {US:7, UK:6, EUR:40, CM:25}, {US:7.5, UK:6.5, EUR:40.5, CM:25.5}, {US:8, UK:7, EUR:41, CM:26}, {US:8.5, UK:7.5, EUR:42, CM:26.5}, {US:9, UK:8, EUR:42.5, CM:27}, {US:9.5, UK:8.5, EUR:43, CM:27.5}, {US:10, UK:9, EUR:44, CM:28}, {US:10.5, UK:9.5, EUR:44.5, CM:28.5}, {US:11, UK:10, EUR:45, CM:29}, {US:11.5, UK:10.5, EUR:45.5, CM:29.5}, {US:12, UK:11, EUR:46, CM:30}, {US:12.5, UK:11.5, EUR:47, CM:30.5}],
    "å¥³æ¬¾": [{US:5, UK:2.5, EUR:35.5, CM:22}, {US:5.5, UK:3, EUR:36, CM:22.5}, {US:6, UK:3.5, EUR:36.5, CM:23}, {US:6.5, UK:4, EUR:37.5, CM:23.5}, {US:7, UK:4.5, EUR:38, CM:24}, {US:7.5, UK:5, EUR:38.5, CM:24.5}, {US:8, UK:5.5, EUR:39, CM:25}, {US:8.5, UK:6, EUR:40, CM:25.5}, {US:9, UK:6.5, EUR:40.5, CM:26}, {US:10, UK:7.5, EUR:42, CM:27}],
    "å…’ç«¥æ¬¾": [{US:"1C", EUR:16, CM:7}, {US:"2C", EUR:17, CM:8}, {US:"3C", EUR:18.5, CM:9}, {US:"4C", EUR:19.5, CM:10}, {US:"5C", EUR:21, CM:11}, {US:"6C", EUR:22, CM:12}, {US:"7C", EUR:23.5, CM:13}, {US:"8C", EUR:25, CM:14}, {US:"9C", EUR:26, CM:15}, {US:"10C", EUR:27, CM:16}, {US:"11C", EUR:28, CM:17}, {US:"12C", EUR:29.5, CM:18}, {US:"13C", EUR:31, CM:19}, {US:"1Y", EUR:32, CM:20}, {US:"1.5Y", EUR:33, CM:20.5}, {US:"2Y", EUR:33.5, CM:21}, {US:"2.5Y", EUR:34, CM:21.5}, {US:"3Y", EUR:35, CM:22}, {US:"3.5Y", EUR:35.5, CM:22.5}, {US:"4Y", EUR:36, CM:23}, {US:"4.5Y", EUR:36.5, CM:23.5}, {US:"5Y", EUR:37, CM:23.5}, {US:"5.5Y", EUR:37.5, CM:24}, {US:"6Y", EUR:38.5, CM:24}, {US:"6.5Y", EUR:39, CM:24.5}, {US:"7Y", EUR:40, CM:25}]
};
let currentSelection = { type: '', unit: '', value: '' };

// ä¸»é¡Œ
function initTheme() {
    const savedTheme = localStorage.getItem('theme') || 'light';
    document.body.setAttribute('data-theme', savedTheme);
    
    const toggle = document.getElementById('themeToggle');
    if (toggle) {
        if (savedTheme === 'dark') {
            toggle.classList.add('on');
            toggle.classList.remove('off');
        } else {
            toggle.classList.add('off');
            toggle.classList.remove('on');
        }
    }
    
    // ç§»é™¤åŸæœ¬çš„ emoji ç›¸é—œä»£ç¢¼
}

// è¼‰å…¥å¾Œé¡¯ç¤ºæç¤ºï¼Œç¬¬ä¸€æ¬¡é»æ“Šè¢å¹•å°±éš±è—
window.addEventListener('load', () => {
    const hint = document.getElementById('themeHint');
    if (!hint) return;

    // å·²ç¶“æœ‰ localStorage è¨˜éŒ„ã€Œçœ‹éæç¤ºã€å°±ä¸è¦å†é¡¯ç¤º
    if (localStorage.getItem('hasSeenThemeHint') === 'true') {
        hint.style.display = 'none';
        return;
    }

    // é¡¯ç¤ºæç¤º
    hint.style.opacity = '1';  // é›–ç„¶æœ‰ animationï¼Œä½†ä¿éšªèµ·è¦‹

    // ç¬¬ä¸€æ¬¡ä»»ä½•é»æ“Šå°±éš±è— + è¨˜éŒ„å·²çœ‹é
    const hideHint = () => {
        hint.style.opacity = '0';
        setTimeout(() => { hint.style.display = 'none'; }, 800);
        localStorage.setItem('hasSeenThemeHint', 'true');
        document.removeEventListener('click', hideHint);
        document.removeEventListener('touchstart', hideHint);
    };

    document.addEventListener('click', hideHint, { once: true });
    document.addEventListener('touchstart', hideHint, { once: true });
});

function toggleTheme() {
    const current = document.body.getAttribute('data-theme');
    const next = current === 'light' ? 'dark' : 'light';
    
    document.body.setAttribute('data-theme', next);
    localStorage.setItem('theme', next);
    
    const toggle = document.getElementById('themeToggle');
    if (toggle) {
        if (next === 'dark') {
            toggle.classList.add('on');
            toggle.classList.remove('off');
        } else {
            toggle.classList.add('off');
            toggle.classList.remove('on');
        }
    }
    
    // å¦‚æœä½ æœ‰ clickFeedback çš„æ™ƒå‹•æ•ˆæœï¼Œä¹Ÿå¯ä»¥ä¿ç•™
    // clickFeedback(toggle);
}

// è§¸è¦º & é»æ“Šåé¥‹
function hapticFeedback() { if (navigator.vibrate) navigator.vibrate(50); }
// æ”¹æˆæ™ƒå‹• + å»¶é²åŸ·è¡Œ callback
function clickFeedback(el, callback) {
    if (!el) {
        if (callback) callback();
        return;
    }

    const tab = el.getAttribute('data-tab');

    // é‹ç¢¼è½‰æ›èˆ‡æ„è¦‹å›é¥‹ï¼šåªç¸®æ”¾ï¼Œä¸éœ‡å‹•
    if (tab === 'shoe' || tab === 'feedback') {
        el.classList.add('clicked');  // è§¸ç™¼ç¸®æ”¾ class
        setTimeout(() => {
            el.classList.remove('clicked');
            if (callback) callback();
        }, 200);  // ç¸®æ”¾å‹•ç•«æ™‚é–“ 0.2s
    } 
    // é–‹ç™¼ä¸­ tabï¼šåªéœ‡å‹•ï¼Œä¸ç¸®æ”¾
    else {
        el.classList.add('shake');
        setTimeout(() => {
            el.classList.remove('shake');
            if (callback) callback();
        }, 400);
    }
}

// é‹ç¢¼é‚è¼¯
function selectType(type) {
    hapticFeedback();
    currentSelection.type = type;
    const units = type === "å…’ç«¥æ¬¾" ? ["US", "EUR", "CM"] : ["US", "UK", "EUR", "CM"];
    document.getElementById('unit-list').innerHTML = units.map(u => `<div class="ios-item" onclick="selectUnit('${u}')"><span>${u}</span></div>`).join('');
    navigateTo(2, "é‚£å®¢äººæ˜¯ç”¨ç”šéº¼å–®ä½å‘¢", "ä¸‹é¢é¸ä¸€å€‹å¥½å—~");
}
function selectUnit(unit) {
    hapticFeedback();
    currentSelection.unit = unit;
    const values = [...new Set(sizeData[currentSelection.type].map(item => item[unit]))];
    document.getElementById('value-list').innerHTML = values.map(v => `<div class="ios-item" onclick="selectValue('${v}')"><span>${v}</span></div>`).join('');
    navigateTo(3, `åŸä¾†å¦‚æ­¤ æ˜¯ ${unit}å•Š`, "è«‹çµ¦æˆ‘å®¢äººçš„å°ºç¢¼Please~");
}
function selectValue(val) {
    hapticFeedback();
    const target = sizeData[currentSelection.type].find(item => String(item[currentSelection.unit]) === String(val));
    if (target) {
        let html = `<h2 style="margin-top:0; color:var(--liquid-purple)">âœ… ${currentSelection.type}</h2><div class="res-grid">`;
        html += `<div class="res-tile"><span style="font-size:12px;opacity:0.6">US</span><br><span class="res-val">${target.US}</span></div>`;
        if (currentSelection.type !== "å…’ç«¥æ¬¾") html += `<div class="res-tile"><span style="font-size:12px;opacity:0.6">UK</span><br><span class="res-val">${target.UK}</span></div>`;
        html += `<div class="res-tile"><span style="font-size:12px;opacity:0.6">EUR</span><br><span class="res-val">${target.EUR}</span></div>`;
        html += `<div class="res-tile"><span style="font-size:12px;opacity:0.6">CM</span><br><span class="res-val">${target.CM}</span></div>`;
        document.getElementById('result-content').innerHTML = html + `</div>`;
        navigateTo(4, "æ°´å–”!ä¸€æ¬¡é è½‰æˆåŠŸäº†", "æ‰€ä»¥ç­”æ¡ˆå°±æ˜¯");
    }
}
function navigateTo(step, title, sub) {
    document.querySelectorAll('.step-view').forEach(v => { v.classList.remove('active'); v.classList.remove('exit'); });
    setTimeout(() => {
        document.getElementById('view' + step).classList.add('active');
        document.getElementById('title-text').innerText = title;
        document.getElementById('sub-text').innerText = sub;
    }, 100);
}
function goBack(step) {
    const titles = ["", "é™½æ˜¥è‡ªè£½è½‰æ›å™¨By,Lai", "å®¢äººæ˜¯ç”¨ç”šéº¼å–®ä½å‘¢~", "å®¢äººçš„å°ºç¢¼å‘¢~"];
    navigateTo(step, titles[step], "é‚£ä½ å†é¸ä¸€æ¬¡");
}

// tab åˆ‡æ›
function switchTab(tab) {
    hapticFeedback();

    // åªå°ã€Œé‹ç¢¼è½‰æ›ã€å’Œã€Œæ„è¦‹å›é¥‹ã€åšé é¢åˆ‡æ›
    if (tab === 'shoe') {
        currentSelection = { type: '', unit: '', value: '' };
        navigateTo(1, "é™½æ˜¥è‡ªè£½è½‰æ›å™¨By,Lai", "å®¢äººæä¾›çš„é‹æ¬¾é¡å‹");
        
        // æ›´æ–°é«˜äº®
        document.querySelectorAll('.tab-item').forEach(item => item.classList.remove('active'));
        document.querySelector('.tab-item[data-tab="shoe"]').classList.add('active');
    } else if (tab === 'feedback') {
        document.querySelectorAll('.step-view').forEach(v => v.classList.remove('active'));
        document.getElementById('view5').classList.add('active');
        document.getElementById('title-text').innerText = "æ„è¦‹å›é¥‹";
        document.getElementById('sub-text').innerText = "å‘Šè¨´æˆ‘å€‘ä½ çš„æƒ³æ³•å§~";
        
        // æ›´æ–°é«˜äº®
        document.querySelectorAll('.tab-item').forEach(item => item.classList.remove('active'));
        document.querySelector('.tab-item[data-tab="feedback"]').classList.add('active');
    }
    // é–‹ç™¼ä¸­çš„ tabï¼ˆclothing, product, todoï¼‰ä»€éº¼éƒ½ä¸åšï¼Œåªé  onclick çš„ clickFeedback æŠ–å‹•
}



// æ„è¦‹å›é¥‹é‚è¼¯
document.getElementById('empId')?.addEventListener('input', e => {
    let v = e.target.value.toUpperCase().replace(/[^A-Z0-9]/g, '');
    if (v.length > 6) v = v.slice(0,6);
    e.target.value = v;
});

document.getElementById('feedbackType')?.addEventListener('change', function() {
    const t = this.value;
    const ta = document.getElementById('feedbackContent');
    const ph = {
        "æ·»åŠ åŠŸèƒ½": "æ·»åŠ åŠŸèƒ½, è«‹è¼¸å…¥åŠŸèƒ½å»ºè­°",
        "æ·»åŠ å°ºå¯¸/æ¬¾å¼/å–®ä½": "æ·»åŠ å°ºå¯¸\\æ¬¾å¼\\å–®ä½, è«‹è¼¸å…¥å°ºå¯¸\\æ¬¾å¼\\å–®ä½å»ºè­°",
        "ä½¿ç”¨æ™‚ç™¼ç”ŸéŒ¯èª¤å›å ±": "ä½¿ç”¨æ™‚ç™¼ç”ŸéŒ¯èª¤å›å ±, è«‹è¼¸å…¥ä½ ä½¿ç”¨æ™‚é‡åˆ°çš„å•é¡Œ",
        "å…¶ä»–": "å…¶ä»–, è«‹è¼¸å…¥ä½ æƒ³å›é¥‹çš„å…§å®¹"
    };
    ta.placeholder = ph[t] || "è«‹å…ˆé¸æ“‡æ„è¦‹é …ç›®";
});

function submitFeedback() {
    const id = document.getElementById('empId').value.trim();
    const type = document.getElementById('feedbackType').value;
    const content = document.getElementById('feedbackContent').value.trim();

    if (!id || id.length !== 6 || !/^[A-Z]{2}\d{4}$/.test(id)) {
        alert("å“¡ç·¨æ ¼å¼éŒ¯èª¤ï¼è«‹è¼¸å…¥ 2 å€‹å¤§å¯«è‹±æ–‡å­—æ¯ + 4 ä½æ•¸å­—ï¼Œä¾‹å¦‚ AB1234");
        return;
    }
    if (!type) { alert("è«‹é¸æ“‡æ„è¦‹é …ç›®ï¼"); return; }
    if (!content) { alert("è«‹è¼¸å…¥å›é¥‹å…§å®¹ï¼"); return; }

    // å»ºç«‹éš±è— iframeï¼ˆæ‰‹æ©Ÿæœ€ç©©å®šçš„é€æ³•ï¼‰
    const iframe = document.createElement('iframe');
    iframe.name = 'hiddenIframe';
    iframe.style.display = 'none';
    document.body.appendChild(iframe);

    const form = document.createElement('form');
    form.method = 'POST';
    form.action = 'https://docs.google.com/forms/d/e/1FAIpQLSdfSjVGxBCS0x2v8f3FzGXKiJTMygDpKhV2ZqAu1wXYYSjvvw/formResponse';
    form.target = 'hiddenIframe';  // é€çµ¦ iframeï¼Œä¸è·³é 

    // éš±è—è¼¸å…¥æ¬„ä½
    const addField = (name, value) => {
        const input = document.createElement('input');
        input.type = 'hidden';
        input.name = name;
        input.value = value;
        form.appendChild(input);
    };

    addField('entry.535338149', id);         // å“¡ç·¨
    addField('entry.279485988', type);       // æ„è¦‹é …ç›®
    addField('entry.1394457056', content);   // æ„è¦‹å…§å®¹

    document.body.appendChild(form);
    form.submit();

    // é€å‡ºå¾Œæ¸…ç©º + æç¤º
    setTimeout(() => {
        alert("æ„Ÿè¬ä½ çš„å›é¥‹ï¼å·²æˆåŠŸé€å‡ºï½\nå°è³´æœƒèªçœŸçœ‹çš„å–” :D");
        document.getElementById('empId').value = '';
        document.getElementById('feedbackType').value = '';
        document.getElementById('feedbackContent').value = '';
        document.getElementById('feedbackContent').placeholder = "è«‹å…ˆé¸æ“‡æ„è¦‹é …ç›®";
        
        // ç§»é™¤ iframe å’Œ form
        document.body.removeChild(iframe);
        document.body.removeChild(form);
    }, 1000);  // å»¶é² 1 ç§’ç¢ºä¿é€å‡ºå®Œæˆ
}

// åˆå§‹åŒ–
initTheme();
window.addEventListener('load', () => {
    switchTab('shoe');  // æ°¸é å…ˆé–‹é‹ç¢¼è½‰æ›
});

// é é¢è¼‰å…¥å¾Œé¡¯ç¤ºæç¤ºï¼Œå®Œæ•´é¡¯ç¤º 3 ç§’å¾Œè‡ªå‹•æ·¡å‡ºï¼Œæˆ–é»æ“Šè¢å¹•æå‰æ¶ˆå¤±
window.addEventListener('load', () => {
    const hint = document.getElementById('themeHint');
    if (!hint) return;

    // å¦‚æœä¹‹å‰çœ‹éï¼Œå°±ä¸é¡¯ç¤º
    if (localStorage.getItem('hasSeenThemeHint') === 'true') {
        hint.style.display = 'none';
        return;
    }

    // å»¶é² 0.5 ç§’æ·¡å…¥ï¼ˆé¿å…è¼‰å…¥ç¬é–“é–ƒï¼‰
    setTimeout(() => {
        hint.classList.add('show');
    }, 500);

    // 3 ç§’å¾Œè‡ªå‹•æ·¡å‡º
    const autoHide = setTimeout(() => {
        hint.classList.remove('show');
        setTimeout(() => {
            hint.style.display = 'none';
        }, 800);  // ç­‰æ·¡å‡ºå‹•ç•«çµæŸ
        localStorage.setItem('hasSeenThemeHint', 'true');
    }, 3500);  // 3 ç§’å®Œæ•´é¡¯ç¤ºï¼ˆå¾æ·¡å…¥é–‹å§‹ç®—ï¼‰

    // ç”¨æˆ¶é»æ“Šè¢å¹•å°±ç«‹å³æ·¡å‡º
    const hideOnInteract = () => {
        clearTimeout(autoHide);
        hint.classList.remove('show');
        setTimeout(() => {
            hint.style.display = 'none';
        }, 800);
        localStorage.setItem('hasSeenThemeHint', 'true');
        document.removeEventListener('click', hideOnInteract);
        document.removeEventListener('touchstart', hideOnInteract);
    };

    document.addEventListener('click', hideOnInteract, { once: true });
    document.addEventListener('touchstart', hideOnInteract, { once: true });
});

</script>
</body>

</html>
